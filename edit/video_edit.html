<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>簡単な動画編集</title>
</head>
<body>
  <h1>簡単な動画編集 (トリミング & 速度変更)</h1>
  
  <input type="file" id="videoInput" accept="video/mp4">
  <video id="video" controls></video>
  
  <label>開始時間: <input type="number" id="startTime" step="0.1"></label>
  <label>終了時間: <input type="number" id="endTime" step="0.1"></label>
  <button id="trimButton">トリミング</button>
  
  <label>再生速度: 
    <select id="speedSelect">
      <option value="0.5">0.5x</option>
      <option value="1" selected>1x</option>
      <option value="1.5">1.5x</option>
      <option value="2">2x</option>
    </select>
  </label>

  <script>
    const video = document.getElementById('video');
    const videoInput = document.getElementById('videoInput');
    const startTime = document.getElementById('startTime');
    const endTime = document.getElementById('endTime');
    const trimButton = document.getElementById('trimButton');
    const speedSelect = document.getElementById('speedSelect');

    videoInput.addEventListener('change', function(event) {
      const file = event.target.files[0];
      if (file) {
        video.src = URL.createObjectURL(file);
      }
    });

    trimButton.addEventListener('click', function() {
      const start = parseFloat(startTime.value) || 0;
      const end = parseFloat(endTime.value) || video.duration;
      video.currentTime = start;

      video.ontimeupdate = function() {
        if (video.currentTime >= end) {
          video.pause();
        }
      };
    });

    speedSelect.addEventListener('change', function() {
      video.playbackRate = parseFloat(speedSelect.value);
    });
  </script>
</body>
</html>
